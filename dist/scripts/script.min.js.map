{"version":3,"sources":["script.js"],"names":["validate","reg","data","RegExp","test","formValidation","countRifhtFields","i","formFields","length","value","getAttribute","style","border","topicChoose","document","querySelector","topicList","formTopic","formTopicItems","querySelectorAll","formFeedback","formInputs","Array","from","formTextArrea","concat","addEventListener","classList","remove","add","val","innerHTML","e","preventDefault","submit"],"mappings":"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","sourcesContent":["\r\n(function(){\r\n\t/*выпадающий список*/\r\nlet topicChoose = document.querySelector('.content_form-topic-set');\r\nlet topicList = document.querySelector('.content_form-list');\r\nlet formTopic = document.querySelector('input[name=\"topic\"]');\r\nlet formTopicItems = document.querySelectorAll('.content_form-list li');\r\n\r\n/*фома*/\r\nlet formFeedback = document.querySelector('.content_form form');\r\n\r\n/*все инпуты*/\r\nlet formInputs = Array.from(document.querySelectorAll('.content_form input'));\r\nlet formTextArrea = Array.from(document.querySelectorAll('.content_form textarea'));\r\nlet formFields = formInputs.concat(formTextArrea);\r\n\r\n\r\ntopicChoose.addEventListener('mouseover', function() {\r\n\ttopicList.classList.remove('hide-list');\r\n\ttopicList.classList.add('active-list');\r\n});\r\n\r\ntopicChoose.addEventListener('mouseout', function() {\r\n\ttopicList.classList.add('hide-list');\r\n\ttopicList.classList.remove('active-list');\r\n});\r\n\r\nfor (let i = 0; i < formTopicItems.length; i++) {\r\n\tformTopicItems[i].addEventListener('click', function() {\r\n\t\tlet val = formTopicItems[i].innerHTML;\r\n\t\tformTopic.value = val;\r\n\t\ttopicList.classList.add('hide-list');\r\n\t})\r\n};\r\n\r\n\r\nfunction validate(reg, data) {\r\n    if (new RegExp(reg).test(data)) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n/*пробегаем по всем инпутам, проверяем наличие \r\nв них каких-либо значений и если задано регулярное \r\nвыражение проводим валидацию в соответствии с ним\r\nдобавляем красный бордер, если значение не подхоит или не введено*/\r\nfunction formValidation() {\r\n\tlet countRifhtFields = 0;\r\n    for (let i = 0; i < formFields.length; i++) {\r\n        if (formFields[i].value) {\r\n        \tlet reg = formFields[i].getAttribute('data-regx');\r\n            if (reg && !validate(reg, formFields[i].value)) {\r\n                formFields[i].style.border = '1px solid red';\r\n                continue;\r\n            }\r\n            formFields[i].style.border = 'none';\r\n            countRifhtFields++;\r\n        }\r\n        else formFields[i].style.border = '1px solid red';\r\n    }\r\n    return countRifhtFields;\r\n};\r\n\r\n\r\n\r\n\r\nformFeedback.addEventListener('change', function() {\r\n\tformValidation();\r\n});\r\n\r\n\r\nformFeedback.addEventListener('submit', function(e) {\r\n\te.preventDefault();\r\n\tif (formValidation() == formFields.length) {\r\n\t\tformFeedback.submit()\r\n\t}\r\n\treturn\r\n});\r\n})();"],"file":"script.min.js"}